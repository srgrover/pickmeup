{% extends '::base.html.twig' %}

{% block content %}
    <div class="container">
        <div id="timeline" class="col-lg-7 box-default pull-left">
            <h1 class="box-header">Timeline</h1>

            <div class="box-content">
                {% for publication in pagination %}
                    <div class="col-lg-12 publication-item">
                        <p>
                            <a class="pub-name-link" href="#">
                                {{ publication.conductor.nombre }} {{ publication.conductor.apellidos }}
                            </a>
                            -
                            ({{ publication.conductor.nick }})
                            -
                            <span class="pub-date">
                                    {{ publication.fechaPublicacion|date('d-m-Y') }}
                                </span>
                        </p>
                        <div class="avatar">
                            {% if publication.conductor.imagenPerfil == null %}
                                <img src="{{ asset('assets/images/default-avatar.jpg') }}" alt="avatar" />
                            {% else %}
                                <img src="{{ asset('uploads/users/'~publication.conductor.imagenPerfil) }}" alt="avatar" />
                            {% endif %}
                        </div>

                        <div class="publication-item-content">
                            <table width="80%">
                                <tr>
                                    <td>
                                        <p>
                                            <span class="glyphicon glyphicon-circle-arrow-right text-success" aria-hidden="true"></span>
                                            {{ publication.origen }}
                                        </p>
                                        <p>
                                            <span class="glyphicon glyphicon-circle-arrow-right text-danger" aria-hidden="true"></span>
                                            {{ publication.destino }}
                                        </p>
                                    </td>
                                    <td>
                                        <p>
                                            Hora de salida: {{ publication.horaSalida|date('h:m')  }}
                                        </p>
                                    </td>
                                    <td>
                                        <p>
                                            {{ publication.precio }}â‚¬ por plaza
                                        </p>
                                        <p>
                                            {{ publication.plazasLibres }} Plazas libres
                                        </p>
                                    </td>
                                </tr>
                            </table>


                        </div>
                        <div class="clearfix"></div>
                        <hr>
                    </div>
                {% endfor %}
                <div class="navigation">
                    {{ knp_pagination_render(pagination) }}
                </div>
            </div>
        </div>

        <div id="user-card" class="col-lg-4 box-default pull-left">
            <div class="avatar">
                {% if app.user.imagenPerfil == null %}
                    <img src="{{ asset('assets/images/default-avatar.jpg') }}" alt="avatar" />
                {% else %}
                    <img src="{{ asset('uploads/users/'~app.user.imagenPerfil) }}" alt="avatar" />
                {% endif %}
            </div>

            <div class="name-surname">
                <a href="#">{{ app.user.nombre }} {{ app.user.apellidos }}</a>
                <div class="clearfix"></div>
                <span class="nickname">
                    {{ app.user.nick }}
                </span>
            </div>

            <div class="clearfix"></div>
        </div>
    </div>

{% endblock %}

